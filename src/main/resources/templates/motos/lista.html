<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motos - iBike</title>
    <link th:href="@{/css/motos.css}" rel="stylesheet">
</head>
<body>
<div class="container">
    <h1 class="section-title">Gestão de Motos</h1>
    
    <a th:href="@{/motos/novo}" class="nav-card">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        Adicionar Nova Moto
    </a>

    <div class="patio-grid" th:if="${motos != null and !motos.isEmpty()}">
        <div class="patio-card" th:each="moto : ${motos}">
            <div class="patio-name" th:text="${moto.modelo}">Modelo</div>
            
            <div class="info-row">
                <span class="info-label">Placa:</span>
                <span class="info-value" th:text="${moto.placa}">XXX-0000</span>
            </div>
            
            <div class="info-row">
                <span class="info-label">Status:</span>
                <span class="status-badge"
                        th:classappend="${moto.status.name() == 'NO_PATIO' ? 'status-no-patio' :
                                        moto.status.name() == 'EM_USO' ? 'status-em-uso' :
                                        moto.status.name() == 'MANUTENCAO' ? 'status-manutencao' :
                                        moto.status.name() == 'PENDENTE' ? 'status-pendente' :
                                        moto.status.name() == 'FURTADA' ? 'status-furtada' : ''}"
                      th:text="${moto.status}">NO_PATIO</span>
            </div>
            
            <div class="info-row">
                <span class="info-label">Km Atual:</span>
                <span class="info-value" th:text="${moto.kmAtual} + ' km'">0 km</span>
            </div>
            
            <div class="info-row">
                <span class="info-label">Último Check:</span>
                <span class="info-value" th:text="${#temporals.format(moto.dataUltimoCheck, 'dd/MM/yyyy')}">01/01/2025</span>
            </div>
            
            <div class="info-row">
                <span class="info-label">Pátio:</span>
                <span class="info-value" th:text="${moto.patio != null ? moto.patio.nome : 'Não atribuído'}">Pátio</span>
            </div>

            <div>
                <a th:href="@{'/motos/editar/' + ${moto.placa}}" class="nav-card">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.25rem;">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                    Editar
                </a>
                <form th:action="@{'/motos/excluir/' + ${moto.placa}}" method="post" style="display:inline; flex: 1;">
                    <button type="submit" class="logout-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.25rem;">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                        Excluir
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div class="empty-state" th:if="${motos == null or motos.isEmpty()}">
        <h3>Nenhuma moto cadastrada</h3>
        <p>Comece adicionando sua primeira moto ao sistema.</p>
        <a th:href="@{/motos/novo}" class="nav-card">Adicionar Moto</a>
    </div>

    <a th:href="@{/home}" class="back-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
        Voltar ao Início
    </a>
</div>
</body>
</html>
